# ğŸ“Œ InstaSearch - Elasticsearch + Python å…¨æ–‡æª¢ç´¢å°ˆæ¡ˆ

## ğŸ”¥ ç°¡ä»‹
InstaSearch æ˜¯ä¸€å€‹åŸºæ–¼ **Elasticsearch** çš„å…¨æ–‡æª¢ç´¢ç³»çµ±ï¼Œæä¾› **Streamlit** ç¶²ç«™ä»‹é¢ä¸¦é€²è¡Œæ–‡æœ¬æœç´¢ã€‚æ­¤å°ˆæ¡ˆé©ç”¨æ–¼å­¸ç¿’ **Elasticsearch æœç´¢æŠ€è¡“**ï¼Œä¸¦æä¾›Python API ä¾†è®€å–å’Œè™•ç† IG æ–‡ç« æˆ–å…¶ä»–æ–‡æœ¬æ•¸æ“šã€‚

---
### ç¶²ç«™ä»‹é¢
![ç¶²ç«™ä»‹é¢](imgs/demo.png)
### ElasticSearchç¤ºæ„è³‡æ–™(Kibanaä»‹é¢)
![ç¶²ç«™ä»‹é¢](imgs/demo2.png)
---

## ç³»çµ±è¦æ±‚

- Python 3.7+
- Docker èˆ‡ Docker Compose
- Git LFS (ç”¨æ–¼ä¸‹è¼‰ç¯„ä¾‹è³‡æ–™)

## å®‰è£èˆ‡è¨­å®š

### **1ï¸âƒ£ å®‰è£ Elasticsearch & Kibana**
**ä½¿ç”¨ Docker Compose å•Ÿå‹•æœå‹™ï¼š**
```bash
docker-compose up -d
```

### **2ï¸âƒ£ ä¸‹è¼‰ç¯„ä¾‹IGæª”**
```bash
git lfs pull
```

### **3ï¸âƒ£ é©—è­‰æœå‹™ç‹€æ…‹**

**æª¢æŸ¥ Elasticsearchï¼š**
```bash
curl http://localhost:9200
```

**æª¢æŸ¥ Kibanaï¼š**
æ‰“é–‹ç€è¦½å™¨è¨ªå•ï¼š ğŸ‘‰ [http://localhost:5601](http://localhost:5601)

### **4ï¸âƒ£ å®‰è£ç›¸ä¾å¥—ä»¶**
```bash
pip install elasticsearch pandas
```

---

## ä½¿ç”¨æ–¹æ³•

### **1ï¸âƒ£ è³‡æ–™åˆå§‹åŒ–**

å°ˆæ¡ˆåŒ…å«ä¸€å€‹å¼·å¤§çš„`setup.py`è…³æœ¬ï¼Œç”¨æ–¼è™•ç†Instagramè³‡æ–™çš„å°å…¥ï¼š

1. å°‡ä½ çš„Instagramè³‡æ–™å£“ç¸®æª”æ”¾åœ¨`ig_data/`ç›®éŒ„ä¸‹
2. åŸ·è¡Œåˆå§‹åŒ–è…³æœ¬ï¼š
```bash
python setup.py
```

æ­¤è…³æœ¬æœƒè‡ªå‹•ï¼š
- âœ… è§£å£“ç¸®Instagramè³‡æ–™
- âœ… è™•ç†æ–‡ç« å…§å®¹èˆ‡åª’é«”æª”æ¡ˆ
- âœ… å»ºç«‹Elasticsearchç´¢å¼•
- âœ… å°å…¥è³‡æ–™è‡³Elasticsearch
- âœ… è‡ªå‹•æ•´ç†åª’é«”æª”æ¡ˆè‡³æ­£ç¢ºä½ç½®

### **2ï¸âƒ£ å•Ÿå‹•ç¶²ç«™ä»‹é¢**
```bash
cd streamlit_app
streamlit run app.py
```

---

## ğŸ“Œ å°ˆæ¡ˆçµæ§‹
```bash
InstaSearch/
â”‚â”€â”€ data/                      # æœ¬æ©Ÿå„²å­˜ Elasticsearch ç´¢å¼•çš„ç›®éŒ„
â”‚â”€â”€ ig_data/                   # Instagramè³‡æ–™ç›®éŒ„
â”‚â”€â”€ media/                     # åª’é«”æª”æ¡ˆå­˜æ”¾ç›®éŒ„
â”‚â”€â”€ docker-compose.yml         # Docker è¨­å®šæ–‡ä»¶
â”‚â”€â”€ setup.py                   # è³‡æ–™åˆå§‹åŒ–è…³æœ¬
â”‚â”€â”€ streamlit_app/            # Python ç¨‹å¼ç¢¼ç›®éŒ„
â”‚   â””â”€â”€ app.py               # Streamlitæ‡‰ç”¨ç¨‹å¼
â”‚â”€â”€ notebook/                 # ESè³‡æ–™æ–°åˆªä¿®notebookè…³æœ¬
â”‚â”€â”€ README.md                # æœ¬æ–‡ä»¶
```

## âš™ï¸ ç³»çµ±æ¶æ§‹

1. **è³‡æ–™è™•ç†æµç¨‹**
   - è§£å£“ç¸®Instagramè³‡æ–™
   - è™•ç†JSONæ ¼å¼çš„è²¼æ–‡è³‡æ–™
   - æ•´ç†åª’é«”æª”æ¡ˆ
   - å»ºç«‹Elasticsearchç´¢å¼•
   - å°å…¥è™•ç†å¾Œçš„è³‡æ–™

2. **æœå°‹åŠŸèƒ½**
   - å…¨æ–‡æª¢ç´¢
   - æ™‚é–“ç¯„åœç¯©é¸
   - åª’é«”æª”æ¡ˆé è¦½

---

## ğŸ› ï¸ å¸¸è¦‹å•é¡Œ

### **1ï¸âƒ£ Elasticsearch/Kibana ç„¡æ³•å•Ÿå‹•ï¼Ÿ**
æª¢æŸ¥åŸ·è¡Œä¸­çš„å®¹å™¨ï¼š
```bash
docker ps | grep elasticsearch
```
é‡ç½®ä¸¦é‡å•Ÿæœå‹™ï¼š
```bash
docker-compose down -v
docker-compose up -d
```

### **2ï¸âƒ£ è³‡æ–™å°å…¥å¤±æ•—ï¼Ÿ**
ç¢ºèªä»¥ä¸‹å¹¾é»ï¼š
- Elasticsearchæ˜¯å¦æ­£å¸¸é‹è¡Œ
- Instagramè³‡æ–™å£“ç¸®æª”æ˜¯å¦æ”¾åœ¨æ­£ç¢ºä½ç½®
- æª¢æŸ¥logsç›®éŒ„ä¸‹çš„éŒ¯èª¤æ—¥èªŒ

### **3ï¸âƒ£ åª’é«”æª”æ¡ˆç„¡æ³•é¡¯ç¤ºï¼Ÿ**
ç¢ºèªï¼š
- mediaç›®éŒ„å­˜åœ¨ä¸”æœ‰é©ç•¶çš„è®€å–æ¬Šé™
- æª¢æŸ¥æª”æ¡ˆè·¯å¾‘æ˜¯å¦æ­£ç¢º
- ç¢ºèªæª”æ¡ˆæ ¼å¼æ˜¯å¦æ”¯æ´

---

## ğŸ“¢ è¯çµ¡ä½œè€…
å¦‚æœä½ æœ‰ä»»ä½•å•é¡Œæˆ–æ”¹é€²å»ºè­°ï¼Œè«‹è¯çµ¡ [ä½ çš„ GitHub](https://github.com/yourname)ï¼

ğŸš€ **å¿«ä¾†è©¦è©¦ Elasticsearch çš„å¼·å¤§å…¨æ–‡æª¢ç´¢åŠŸèƒ½å§ï¼**
